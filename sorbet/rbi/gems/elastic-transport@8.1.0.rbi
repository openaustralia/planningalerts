# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `elastic-transport` gem.
# Please instead update this file by running `bin/tapioca gem elastic-transport`.

# source://elastic-transport//lib/elastic/transport/transport/loggable.rb#18
module Elastic
  class << self
    # source://elasticsearch/8.4.0/lib/elasticsearch.rb#176
    def client_meta_version; end
  end
end

# source://elasticsearch/8.4.0/lib/elasticsearch.rb#185
Elastic::ELASTICSEARCH_SERVICE_VERSION = T.let(T.unsafe(nil), Array)

# Module to encapsulate all logging functionality.
#
# @since 7.0.0
#
# source://elastic-transport//lib/elastic/transport/transport/loggable.rb#22
module Elastic::Loggable
  # Log a debug message.
  #
  # @example Log a debug message.
  #   log_debug('Message')
  # @param message [String] The message to log.
  # @since 7.0.0
  #
  # source://elastic-transport//lib/elastic/transport/transport/loggable.rb#31
  def log_debug(message); end

  # Log an error message.
  #
  # @example Log an error message.
  #   log_error('Message')
  # @param message [String] The message to log.
  # @since 7.0.0
  #
  # source://elastic-transport//lib/elastic/transport/transport/loggable.rb#43
  def log_error(message); end

  # Log a fatal message.
  #
  # @example Log a fatal message.
  #   log_fatal('Message')
  # @param message [String] The message to log.
  # @since 7.0.0
  #
  # source://elastic-transport//lib/elastic/transport/transport/loggable.rb#55
  def log_fatal(message); end

  # Log an info message.
  #
  # @example Log an info message.
  #   log_info('Message')
  # @param message [String] The message to log.
  # @since 7.0.0
  #
  # source://elastic-transport//lib/elastic/transport/transport/loggable.rb#67
  def log_info(message); end

  # Log a warn message.
  #
  # @example Log a warn message.
  #   log_warn('Message')
  # @param message [String] The message to log.
  # @since 7.0.0
  #
  # source://elastic-transport//lib/elastic/transport/transport/loggable.rb#79
  def log_warn(message); end
end

# source://elastic-transport//lib/elastic/transport/transport/serializer/multi_json.rb#19
module Elastic::Transport; end

# Handles communication with an Elastic cluster.
#
# See {file:README.md README} for usage and code examples.
#
# source://elastic-transport//lib/elastic/transport/client.rb#27
class Elastic::Transport::Client
  include ::Elastic::Transport::MetaHeader

  # Create a client connected to an Elastic cluster.
  #
  # Specify the URL via arguments or set the `ELASTICSEARCH_URL` environment variable.
  #
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option arguments
  # @option enable_meta_header
  # @option ca_fingerprint
  # @param arguments [Hash] a customizable set of options
  # @param enable_meta_header [Hash] a customizable set of options
  # @param ca_fingerprint [Hash] a customizable set of options
  # @return [Client] a new instance of Client
  # @yield [faraday] Access and configure the `Faraday::Connection` instance directly with a block
  #
  # source://elastic-transport//lib/elastic/transport/client.rb#124
  def initialize(arguments = T.unsafe(nil), &block); end

  # Performs a request through delegation to {#transport}.
  #
  # source://elastic-transport//lib/elastic/transport/client.rb#173
  def perform_request(method, path, params = T.unsafe(nil), body = T.unsafe(nil), headers = T.unsafe(nil)); end

  # Returns the transport object.
  #
  # @see Elastic::Transport::Transport::Base
  # @see Elastic::Transport::Transport::HTTP::Faraday
  #
  # source://elastic-transport//lib/elastic/transport/client.rb#62
  def transport; end

  # Returns the transport object.
  #
  # @see Elastic::Transport::Transport::Base
  # @see Elastic::Transport::Transport::HTTP::Faraday
  #
  # source://elastic-transport//lib/elastic/transport/client.rb#62
  def transport=(_arg0); end

  private

  # Auto-detect the best adapter (HTTP "driver") available, based on libraries
  # loaded by the user, preferring those with persistent connections
  # ("keep-alive") by default
  # Check adapters based on the usage of Faraday 1 or 2. Faraday should be defined here
  # since this is only called when transport class is Transport::HTTP::Faraday
  #
  # @api private
  # @return [Symbol]
  #
  # source://elastic-transport//lib/elastic/transport/client.rb#293
  def __auto_detect_adapter; end

  # Normalizes and returns hosts configuration.
  #
  # Arrayifies the `hosts_config` argument and extracts `host` and `port` info from strings.
  # Performs shuffling when the `randomize_hosts` option is set.
  #
  # TODO: Refactor, so it's available in Elasticsearch::Transport::Base as well
  #
  # @api private
  # @raise [ArgumentError]
  # @return [Array<Hash>]
  #
  # source://elastic-transport//lib/elastic/transport/client.rb#226
  def __extract_hosts(hosts_config); end

  # source://elastic-transport//lib/elastic/transport/client.rb#242
  def __parse_host(host); end

  # source://elastic-transport//lib/elastic/transport/client.rb#206
  def add_header(header); end

  # source://elastic-transport//lib/elastic/transport/client.rb#181
  def validate_ca_fingerprints; end
end

# The default host and port to use if not otherwise specified.
#
# @since 7.0.0
#
# source://elastic-transport//lib/elastic/transport/client.rb#50
Elastic::Transport::Client::DEFAULT_HOST = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/client.rb#31
Elastic::Transport::Client::DEFAULT_LOGGER = T.let(T.unsafe(nil), Proc)

# The default port to use if not otherwise specified.
#
# @since 7.2.0
#
# source://elastic-transport//lib/elastic/transport/client.rb#55
Elastic::Transport::Client::DEFAULT_PORT = T.let(T.unsafe(nil), Integer)

# source://elastic-transport//lib/elastic/transport/client.rb#39
Elastic::Transport::Client::DEFAULT_TRACER = T.let(T.unsafe(nil), Proc)

# source://elastic-transport//lib/elastic/transport/client.rb#28
Elastic::Transport::Client::DEFAULT_TRANSPORT_CLASS = Elastic::Transport::Transport::HTTP::Faraday

# Methods for the Elastic meta header used by Cloud.
# X-Elastic-Client-Meta HTTP header which is used by Elastic Cloud and can be disabled when
# instantiating the Client with the :enable_meta_header parameter set to `false`.
#
# source://elastic-transport//lib/elastic/transport/meta_header.rb#26
module Elastic::Transport::MetaHeader
  # @return [Boolean]
  #
  # source://elastic-transport//lib/elastic/transport/meta_header.rb#65
  def called_from?(service); end

  # We return the current version if it's a release, but if it's a pre/alpha/beta release we
  # return <VERSION_NUMBER>p
  #
  # source://elastic-transport//lib/elastic/transport/meta_header.rb#72
  def client_meta_version(version); end

  # @return [Boolean]
  #
  # source://elastic-transport//lib/elastic/transport/meta_header.rb#60
  def elasticsearch?; end

  # @return [Boolean]
  #
  # source://elastic-transport//lib/elastic/transport/meta_header.rb#55
  def enterprise_search?; end

  # This function tries to define the version for the Faraday adapter. If it hasn't been loaded
  # by the time we're calling this method, it's going to report the adapter (if we know it) but
  # return 0 as the version. It won't report anything when using a custom adapter we don't
  # identify.
  #
  # Returns a Hash<adapter_alias, version>
  #
  # source://elastic-transport//lib/elastic/transport/meta_header.rb#100
  def meta_header_adapter; end

  # source://elastic-transport//lib/elastic/transport/meta_header.rb#80
  def meta_header_engine; end

  # source://elastic-transport//lib/elastic/transport/meta_header.rb#43
  def meta_header_service_version; end

  # source://elastic-transport//lib/elastic/transport/meta_header.rb#27
  def set_meta_header; end
end

# Class for wrapping a hash that could have sensitive data.
# When printed, the sensitive values will be redacted.
#
# @since 6.1.1
#
# source://elastic-transport//lib/elastic/transport/redacted.rb#24
class Elastic::Transport::Redacted < ::Hash
  # @return [Redacted] a new instance of Redacted
  # @since 6.1.1
  #
  # source://elastic-transport//lib/elastic/transport/redacted.rb#25
  def initialize(elements = T.unsafe(nil)); end

  # Get a string representation of the hash.
  #
  # @return [String] The string representation of the hash.
  # @since 6.1.1
  #
  # source://elastic-transport//lib/elastic/transport/redacted.rb#46
  def inspect; end

  # Get a string representation of the hash.
  #
  # @return [String] The string representation of the hash.
  # @since 6.1.1
  #
  # source://elastic-transport//lib/elastic/transport/redacted.rb#55
  def to_s; end

  private

  # @since 6.1.1
  #
  # source://elastic-transport//lib/elastic/transport/redacted.rb#67
  def redact(k, v, method); end

  # @since 6.1.1
  #
  # source://elastic-transport//lib/elastic/transport/redacted.rb#61
  def redacted_string(method); end
end

# The keys whose values will be redacted.
#
# @since 6.1.1
#
# source://elastic-transport//lib/elastic/transport/redacted.rb#33
Elastic::Transport::Redacted::SENSITIVE_KEYS = T.let(T.unsafe(nil), Array)

# The replacement string used in place of the value for sensitive keys.
#
# @since 6.1.1
#
# source://elastic-transport//lib/elastic/transport/redacted.rb#39
Elastic::Transport::Redacted::STRING_REPLACEMENT = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/serializer/multi_json.rb#20
module Elastic::Transport::Transport; end

# @abstract Module with common functionality for transport implementations.
#
# source://elastic-transport//lib/elastic/transport/transport/base.rb#23
module Elastic::Transport::Transport::Base
  include ::Elastic::Loggable

  # Creates a new transport object
  #
  # @option arguments
  # @option arguments
  # @param arguments [Hash] Settings and options for the transport
  # @param block [Proc] Lambda or Proc which can be evaluated in the context of the "session" object
  # @see Client#initialize
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#49
  def initialize(arguments = T.unsafe(nil), &block); end

  # @abstract Build and return a connection.
  #   A transport implementation *must* implement this method.
  #   See {HTTP::Faraday#__build_connection} for an example.
  # @api private
  # @raise [NoMethodError]
  # @return [Connections::Connection]
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#180
  def __build_connection(host, options = T.unsafe(nil), block = T.unsafe(nil)); end

  # Builds and returns a collection of connections
  #
  # The adapters have to implement the {Base#__build_connection} method.
  #
  # @api private
  # @return [Connections::Collection]
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#147
  def __build_connections; end

  # Closes the connections collection
  #
  # @api private
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#188
  def __close_connections; end

  # Helper function: Maps over hosts, sets protocol, port and user/password and builds connections
  #
  # @api private
  # @return [Array<Connection>] Array<Connection>
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#160
  def __connections_from_host; end

  # Converts any non-String object to JSON
  #
  # @api private
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#235
  def __convert_to_json(o = T.unsafe(nil), options = T.unsafe(nil)); end

  # Returns a full URL based on information from host
  #
  # @api private
  # @param host [Hash] Host configuration passed in from {Client}
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#244
  def __full_url(host); end

  # Log request and response information
  #
  # @api private
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#196
  def __log_response(method, path, params, body, url, response, json, took, duration); end

  # Raise error specific for the HTTP response status or a generic server error
  #
  # @api private
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#226
  def __raise_transport_error(response); end

  # Rebuilds the connections collection in the transport.
  #
  # The methods *adds* new connections from the passed hosts to the collection,
  # and *removes* all connections not contained in the passed hosts.
  #
  # @api private
  # @return [Connections::Collection]
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#123
  def __rebuild_connections(arguments = T.unsafe(nil)); end

  # Trace the request in the `curl` format
  #
  # @api private
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#210
  def __trace(method, path, params, headers, body, url, response, json, took, duration); end

  # Returns the value of attribute connections.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#34
  def connections; end

  # Returns the value of attribute counter.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#34
  def counter; end

  # Returns a connection from the connection pool by delegating to {Connections::Collection#get_connection}.
  #
  # Resurrects dead connection if the `resurrect_after` timeout has passed.
  # Increments the counter and performs connection reloading if the `reload_connections` option is set.
  #
  # @return [Connections::Connection]
  # @see Connections::Collection#get_connection
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#86
  def get_connection(options = T.unsafe(nil)); end

  # @abstract Returns an Array of connection errors specific to the transport implementation.
  #   See {HTTP::Faraday#host_unreachable_exceptions} for an example.
  # @return [Array]
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#368
  def host_unreachable_exceptions; end

  # Returns the value of attribute hosts.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#34
  def hosts; end

  # Returns the value of attribute last_request_at.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#34
  def last_request_at; end

  # Returns the value of attribute logger.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def logger; end

  # Sets the attribute logger
  #
  # @param value the value to set the attribute logger to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def logger=(_arg0); end

  # Returns the value of attribute options.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#34
  def options; end

  # Performs a request to Elasticsearch, while handling logging, tracing, marking dead connections,
  # retrying the request and reloading the connections.
  #
  # @abstract The transport implementation has to implement this method either in full,
  #   or by invoking this method with a block. See {HTTP::Faraday#perform_request} for an example.
  # @param method [String] Request method
  # @param path [String] The API endpoint
  # @param params [Hash] Request parameters (will be serialized by {Connections::Connection#full_url})
  # @param body [Hash] Request body (will be serialized by the {#serializer})
  # @param headers [Hash] Request headers (will be serialized by the {#serializer})
  # @param block [Proc] Code block to evaluate, passed from the implementation
  # @raise [NoMethodError] If no block is passed
  # @raise [ServerError] If request failed on server
  # @raise [Error] If no connection is available
  # @return [Response]
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#271
  def perform_request(method, path, params = T.unsafe(nil), body = T.unsafe(nil), headers = T.unsafe(nil), opts = T.unsafe(nil), &block); end

  # Returns the value of attribute protocol.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#34
  def protocol; end

  # Returns the value of attribute reload_after.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def reload_after; end

  # Sets the attribute reload_after
  #
  # @param value the value to set the attribute reload_after to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def reload_after=(_arg0); end

  # Returns the value of attribute reload_connections.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def reload_connections; end

  # Reloads and replaces the connection collection based on cluster information
  #
  # @see Sniffer#hosts
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#98
  def reload_connections!; end

  # Sets the attribute reload_connections
  #
  # @param value the value to set the attribute reload_connections to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def reload_connections=(_arg0); end

  # Returns the value of attribute resurrect_after.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def resurrect_after; end

  # Sets the attribute resurrect_after
  #
  # @param value the value to set the attribute resurrect_after to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def resurrect_after=(_arg0); end

  # Tries to "resurrect" all eligible dead connections
  #
  # @see Connections::Connection#resurrect!
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#111
  def resurrect_dead_connections!; end

  # Returns the value of attribute serializer.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def serializer; end

  # Sets the attribute serializer
  #
  # @param value the value to set the attribute serializer to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def serializer=(_arg0); end

  # Returns the value of attribute sniffer.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def sniffer; end

  # Sets the attribute sniffer
  #
  # @param value the value to set the attribute sniffer to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def sniffer=(_arg0); end

  # Returns the value of attribute tracer.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def tracer; end

  # Sets the attribute tracer
  #
  # @param value the value to set the attribute tracer to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#35
  def tracer=(_arg0); end

  private

  # source://elastic-transport//lib/elastic/transport/transport/base.rb#429
  def apply_headers(client, options); end

  # source://elastic-transport//lib/elastic/transport/transport/base.rb#386
  def compress_request(body, headers); end

  # source://elastic-transport//lib/elastic/transport/transport/base.rb#455
  def connection_headers(connection); end

  # source://elastic-transport//lib/elastic/transport/transport/base.rb#407
  def decompress_response(body); end

  # source://elastic-transport//lib/elastic/transport/transport/base.rb#437
  def find_value(hash, regex); end

  # @return [Boolean]
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#419
  def gzipped?(body); end

  # @return [Boolean]
  #
  # source://elastic-transport//lib/elastic/transport/transport/base.rb#425
  def use_compression?; end

  # source://elastic-transport//lib/elastic/transport/transport/base.rb#445
  def user_agent_header(client); end
end

# source://elastic-transport//lib/elastic/transport/transport/base.rb#376
Elastic::Transport::Transport::Base::ACCEPT_ENCODING = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#377
Elastic::Transport::Transport::Base::CONTENT_ENCODING = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#379
Elastic::Transport::Transport::Base::CONTENT_TYPE_REGEX = T.let(T.unsafe(nil), Regexp)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#378
Elastic::Transport::Transport::Base::CONTENT_TYPE_STR = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#380
Elastic::Transport::Transport::Base::DEFAULT_CONTENT_TYPE = T.let(T.unsafe(nil), String)

# Requests
#
# source://elastic-transport//lib/elastic/transport/transport/base.rb#30
Elastic::Transport::Transport::Base::DEFAULT_MAX_RETRIES = T.let(T.unsafe(nil), Integer)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#26
Elastic::Transport::Transport::Base::DEFAULT_PORT = T.let(T.unsafe(nil), Integer)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#27
Elastic::Transport::Transport::Base::DEFAULT_PROTOCOL = T.let(T.unsafe(nil), String)

# Requests
#
# source://elastic-transport//lib/elastic/transport/transport/base.rb#28
Elastic::Transport::Transport::Base::DEFAULT_RELOAD_AFTER = T.let(T.unsafe(nil), Integer)

# Seconds
#
# source://elastic-transport//lib/elastic/transport/transport/base.rb#29
Elastic::Transport::Transport::Base::DEFAULT_RESURRECT_AFTER = T.let(T.unsafe(nil), Integer)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#31
Elastic::Transport::Transport::Base::DEFAULT_SERIALIZER_CLASS = Elastic::Transport::Transport::Serializer::MultiJson

# source://elastic-transport//lib/elastic/transport/transport/base.rb#381
Elastic::Transport::Transport::Base::GZIP = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#382
Elastic::Transport::Transport::Base::GZIP_FIRST_TWO_BYTES = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#383
Elastic::Transport::Transport::Base::HEX_STRING_DIRECTIVE = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#384
Elastic::Transport::Transport::Base::RUBY_ENCODING = T.let(T.unsafe(nil), TrueClass)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#32
Elastic::Transport::Transport::Base::SANITIZED_PASSWORD = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#375
Elastic::Transport::Transport::Base::USER_AGENT_REGEX = T.let(T.unsafe(nil), Regexp)

# source://elastic-transport//lib/elastic/transport/transport/base.rb#374
Elastic::Transport::Transport::Base::USER_AGENT_STR = T.let(T.unsafe(nil), String)

# source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#21
module Elastic::Transport::Transport::Connections; end

# Wraps the collection of connections for the transport object as an Enumerable object.
#
# @see Base#connections
# @see Selector::Base#select
# @see Connection
#
# source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#28
class Elastic::Transport::Transport::Connections::Collection
  include ::Enumerable

  # @option arguments
  # @option arguments
  # @option arguments
  # @param arguments [Hash] a customizable set of options
  # @return [Collection] a new instance of Collection
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#39
  def initialize(arguments = T.unsafe(nil)); end

  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#93
  def [](*args); end

  # Add connection(s) to the collection
  #
  # @param connections [Connection, Array] A connection or an array of connections to add
  # @return [self]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#107
  def add(connections); end

  # Returns an Array of alive connections.
  #
  # @return [Array]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#57
  def alive; end

  # Returns an Array of all connections, both dead and alive
  #
  # @return [Array]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#74
  def all; end

  # Returns an Array of alive connections.
  #
  # @return [Array]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#57
  def connections; end

  # Returns an Array of dead connections.
  #
  # @return [Array]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#66
  def dead; end

  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#89
  def each(&block); end

  # Returns a connection.
  #
  # If there are no alive connections, returns a connection with least failures.
  # Delegates to selector's `#select` method to get the connection.
  #
  # @return [Connection]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#85
  def get_connection(options = T.unsafe(nil)); end

  # Returns an Array of hosts information in this collection as Hashes.
  #
  # @return [Array]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#49
  def hosts; end

  # Remove connection(s) from the collection
  #
  # @param connections [Connection, Array] A connection or an array of connections to remove
  # @return [self]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#117
  def remove(connections); end

  # Returns the value of attribute selector.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#33
  def selector; end

  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#98
  def size; end

  # source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#93
  def slice(*args); end
end

# source://elastic-transport//lib/elastic/transport/transport/connections/collection.rb#31
Elastic::Transport::Transport::Connections::Collection::DEFAULT_SELECTOR = Elastic::Transport::Transport::Connections::Selector::RoundRobin

# Wraps the connection information and logic.
#
# The Connection instance wraps the host information (hostname, port, attributes, etc),
# as well as the "session" (a transport client object, such as a {HTTP::Faraday} instance).
#
# It provides methods to construct and properly encode the URLs and paths for passing them
# to the transport client object.
#
# It provides methods to handle connection livecycle (dead, alive, healthy).
#
# source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#32
class Elastic::Transport::Transport::Connections::Connection
  # @option arguments
  # @option arguments
  # @option arguments
  # @param arguments [Hash] a customizable set of options
  # @return [Connection] a new instance of Connection
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#42
  def initialize(arguments = T.unsafe(nil)); end

  # Equality operator based on connection protocol, host, port and attributes
  #
  # @return [Boolean]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#145
  def ==(other); end

  # Marks this connection as alive, ie. it is eligible to be returned from the pool by the selector.
  #
  # @return [self]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#102
  def alive!; end

  # Returns the value of attribute connection.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#35
  def connection; end

  # Marks this connection as dead, incrementing the `failures` counter and
  # storing the current time as `dead_since`.
  #
  # @return [self]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#89
  def dead!; end

  # Returns true when this connection has been marked dead, false otherwise.
  #
  # @return [Boolean]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#80
  def dead?; end

  # Returns the value of attribute dead_since.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#35
  def dead_since; end

  # Returns the value of attribute failures.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#35
  def failures; end

  # Returns the complete endpoint path with serialized parameters.
  #
  # @return [String]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#72
  def full_path(path, params = T.unsafe(nil)); end

  # Returns the complete endpoint URL with host, port, path and serialized parameters.
  #
  # @return [String]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#58
  def full_url(path, params = T.unsafe(nil)); end

  # Marks this connection as healthy, ie. a request has been successfully performed with it.
  #
  # @return [self]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#113
  def healthy!; end

  # Returns the value of attribute host.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#35
  def host; end

  # Returns the value of attribute options.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#35
  def options; end

  # Marks this connection as alive, if the required timeout has passed.
  #
  # @return [self, nil]
  # @see DEFAULT_RESURRECT_TIMEOUT
  # @see #resurrectable?
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#127
  def resurrect!; end

  # Returns true if the connection is eligible to be resurrected as alive, false otherwise.
  #
  # @return [Boolean]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#135
  def resurrectable?; end

  # @return [String]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#154
  def to_s; end

  # Returns the value of attribute verified.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#36
  def verified; end

  # Sets the attribute verified
  #
  # @param value the value to set the attribute verified to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#36
  def verified=(_arg0); end
end

# source://elastic-transport//lib/elastic/transport/transport/connections/connection.rb#33
Elastic::Transport::Transport::Connections::Connection::DEFAULT_RESURRECT_TIMEOUT = T.let(T.unsafe(nil), Integer)

# source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#22
module Elastic::Transport::Transport::Connections::Selector; end

# @abstract Common functionality for connection selector implementations.
#
# source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#25
module Elastic::Transport::Transport::Connections::Selector::Base
  # @option arguments
  # @param arguments [Hash] a customizable set of options
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#30
  def initialize(arguments = T.unsafe(nil)); end

  # Returns the value of attribute connections.
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#26
  def connections; end

  # @abstract Selector strategies implement this method to
  #   select and return a connection from the pool.
  # @raise [NoMethodError]
  # @return [Connection]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#39
  def select(options = T.unsafe(nil)); end
end

# "Random connection" selector strategy.
#
# source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#46
class Elastic::Transport::Transport::Connections::Selector::Random
  include ::Elastic::Transport::Transport::Connections::Selector::Base

  # Returns a random connection from the collection.
  #
  # @return [Connections::Connection]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#53
  def select(options = T.unsafe(nil)); end
end

# "Round-robin" selector strategy (default).
#
# source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#60
class Elastic::Transport::Transport::Connections::Selector::RoundRobin
  include ::Elastic::Transport::Transport::Connections::Selector::Base

  # @option arguments
  # @param arguments [Hash] a customizable set of options
  # @return [RoundRobin] a new instance of RoundRobin
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#65
  def initialize(arguments = T.unsafe(nil)); end

  # Returns the next connection from the collection, rotating them in round-robin fashion.
  #
  # @return [Connections::Connection]
  #
  # source://elastic-transport//lib/elastic/transport/transport/connections/selector.rb#75
  def select(options = T.unsafe(nil)); end
end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#83
Elastic::Transport::Transport::ERRORS = T.let(T.unsafe(nil), Hash)

# Generic client error
#
# source://elastic-transport//lib/elastic/transport/transport/errors.rb#24
class Elastic::Transport::Transport::Error < ::StandardError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#34
module Elastic::Transport::Transport::Errors; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::BadGateway < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::BadRequest < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::BlockedByWindowsParentalControls < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::ClientClosedRequest < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::Conflict < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::ExpectationFailed < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::Forbidden < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::Found < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::GatewayTimeout < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::Gone < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::HTTPToHTTPS < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::HTTPVersionNotSupported < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::ImATeapot < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::InternalServerError < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::LengthRequired < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::MethodNotAllowed < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::MovedPermanently < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::MultipleChoices < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::NotAcceptable < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::NotExtended < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::NotFound < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::NotImplemented < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::NotModified < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::PaymentRequired < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::PermanentRedirect < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::PreconditionFailed < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::ProxyAuthenticationRequired < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::RequestEntityTooLarge < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::RequestHeaderTooLarge < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::RequestTimeout < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::RequestURITooLong < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::RequestedRangeNotSatisfiable < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::SeeOther < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::ServiceUnavailable < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::TemporaryRedirect < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::TooManyConnectionsFromThisIP < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::TooManyRequests < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::Unauthorized < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::UnsupportedMediaType < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::UpgradeRequired < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::UseProxy < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#85
class Elastic::Transport::Transport::Errors::VariantAlsoNegotiates < ::Elastic::Transport::Transport::ServerError; end

# source://elastic-transport//lib/elastic/transport/transport/http/faraday.rb#21
module Elastic::Transport::Transport::HTTP; end

# The default transport implementation, using the [_Faraday_](https://rubygems.org/gems/faraday)
# library for abstracting the HTTP client.
#
# @see Transport::Base
#
# source://elastic-transport//lib/elastic/transport/transport/http/faraday.rb#27
class Elastic::Transport::Transport::HTTP::Faraday
  include ::Elastic::Loggable
  include ::Elastic::Transport::Transport::Base

  # Builds and returns a connection
  #
  # @return [Connections::Connection]
  #
  # source://elastic-transport//lib/elastic/transport/transport/http/faraday.rb#64
  def __build_connection(host, options = T.unsafe(nil), block = T.unsafe(nil)); end

  # Returns an array of implementation specific connection errors.
  #
  # @return [Array]
  #
  # source://elastic-transport//lib/elastic/transport/transport/http/faraday.rb#74
  def host_unreachable_exceptions; end

  # Performs the request by invoking {Transport::Base#perform_request} with a block.
  #
  # @return [Response]
  # @see Transport::Base#perform_request
  #
  # source://elastic-transport//lib/elastic/transport/transport/http/faraday.rb#35
  def perform_request(method, path, params = T.unsafe(nil), body = T.unsafe(nil), headers = T.unsafe(nil), opts = T.unsafe(nil)); end

  private

  # source://elastic-transport//lib/elastic/transport/transport/http/faraday.rb#85
  def user_agent_header(client); end
end

# source://elastic-transport//lib/elastic/transport/transport/errors.rb#36
Elastic::Transport::Transport::HTTP_STATUSES = T.let(T.unsafe(nil), Hash)

# Wraps the response from Elasticsearch.
#
# source://elastic-transport//lib/elastic/transport/transport/response.rb#23
class Elastic::Transport::Transport::Response
  # @param status [Integer] Response status code
  # @param body [String] Response body
  # @param headers [Hash] Response headers
  # @return [Response] a new instance of Response
  #
  # source://elastic-transport//lib/elastic/transport/transport/response.rb#29
  def initialize(status, body, headers = T.unsafe(nil)); end

  # Returns the value of attribute body.
  #
  # source://elastic-transport//lib/elastic/transport/transport/response.rb#24
  def body; end

  # Returns the value of attribute headers.
  #
  # source://elastic-transport//lib/elastic/transport/transport/response.rb#24
  def headers; end

  # Returns the value of attribute status.
  #
  # source://elastic-transport//lib/elastic/transport/transport/response.rb#24
  def status; end
end

# source://elastic-transport//lib/elastic/transport/transport/serializer/multi_json.rb#21
module Elastic::Transport::Transport::Serializer; end

# An abstract class for implementing serializer implementations
#
# source://elastic-transport//lib/elastic/transport/transport/serializer/multi_json.rb#24
module Elastic::Transport::Transport::Serializer::Base
  # @param transport [Object] The instance of transport which uses this serializer
  #
  # source://elastic-transport//lib/elastic/transport/transport/serializer/multi_json.rb#27
  def initialize(transport = T.unsafe(nil)); end
end

# A default JSON serializer (using [MultiJSON](http://rubygems.org/gems/multi_json))
#
# source://elastic-transport//lib/elastic/transport/transport/serializer/multi_json.rb#34
class Elastic::Transport::Transport::Serializer::MultiJson
  include ::Elastic::Transport::Transport::Serializer::Base

  # Serialize a Hash to JSON string
  #
  # source://elastic-transport//lib/elastic/transport/transport/serializer/multi_json.rb#45
  def dump(object, options = T.unsafe(nil)); end

  # De-serialize a Hash from JSON string
  #
  # source://elastic-transport//lib/elastic/transport/transport/serializer/multi_json.rb#39
  def load(string, options = T.unsafe(nil)); end
end

# Elastic server error (HTTP status 5xx)
#
# source://elastic-transport//lib/elastic/transport/transport/errors.rb#32
class Elastic::Transport::Transport::ServerError < ::Elastic::Transport::Transport::Error; end

# Handles node discovery ("sniffing")
#
# source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#23
class Elastic::Transport::Transport::Sniffer
  # @param transport [Object] A transport instance
  # @return [Sniffer] a new instance of Sniffer
  #
  # source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#31
  def initialize(transport); end

  # Retrieves the node list from the Elasticsearch's
  # [_Nodes Info API_](https://www.elastic.co/guide/reference/api/admin-cluster-nodes-info/)
  # and returns a normalized Array of information suitable for passing to transport.
  #
  # Shuffles the collection before returning it when the `randomize_hosts` option is set for transport.
  #
  # @raise [SnifferTimeoutError]
  # @return [Array<Hash>]
  #
  # source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#45
  def hosts; end

  # Returns the value of attribute timeout.
  #
  # source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#27
  def timeout; end

  # Sets the attribute timeout
  #
  # @param value the value to set the attribute timeout to.
  #
  # source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#27
  def timeout=(_arg0); end

  # Returns the value of attribute transport.
  #
  # source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#26
  def transport; end

  private

  # source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#88
  def parse_address_port(publish_address); end

  # source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#78
  def parse_publish_address(publish_address); end

  # source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#71
  def perform_sniff_request; end
end

# source://elastic-transport//lib/elastic/transport/transport/sniffer.rb#24
Elastic::Transport::Transport::Sniffer::PROTOCOL = T.let(T.unsafe(nil), String)

# Reloading connections timeout (1 sec by default)
#
# source://elastic-transport//lib/elastic/transport/transport/errors.rb#28
class Elastic::Transport::Transport::SnifferTimeoutError < ::Timeout::Error; end

# source://elastic-transport//lib/elastic/transport/version.rb#20
Elastic::Transport::VERSION = T.let(T.unsafe(nil), String)
