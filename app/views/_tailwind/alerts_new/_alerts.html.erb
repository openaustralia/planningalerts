<% if alerts.empty? %>
  <p class="mt-4 text-2xl font-bold text-navy">You do not have any alerts<p>
<% else %>
  <ul>
    <% alerts.each do |alert| %>
      <%# TODO: Show an error of some sort if the last delivery was not successful %>
      <li>
        <h3 class="text-2xl font-bold text-navy"><%= alert.address %></h3>
        <p class="text-2xl font-normal text-navy">
          within
          <%= link_to meters_in_words(alert.radius_meters.to_f), edit_profile_alert_path(alert), class: "text-orange underline" %>
        </p>
        <%= tag.div class: "map h-80 bg-google-maps-green", data: { lat: alert.lat, lng: alert.lng, address: alert.address, zoom: 13, radius_meters: alert.radius_meters } %>
        <p class="text-2xl font-normal text-navy">
          <% if alert.last_sent %>
            Last email sent:
            <%= time_ago_in_words(alert.last_sent) %>
            ago
          <% else %>
            Last email sent: not yet sent
          <% end %>
          <%= form_with model: [:profile, alert], method: :delete, data: { confirm: "Are you sure you want to unsubscribe for email alerts for #{alert.address}?" }, builder: FormBuilders::Tailwind do |f| %>
            <% f.button "Unsubscribe" %>
          <% end %>
        </p>
      </li>
    <% end %>
  </ul>
<% end %>
