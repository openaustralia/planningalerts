<%= link_to application, class: "block focus:bg-sun-yellow" do %>
  <article class="flex items-center justify-between gap-4 px-4 py-8 group">
    <div>
      <div class="flex items-end gap-6">
        <%# TODO: Extract out link style that's used here %>
        <h2 class="text-2xl font-bold underline text-fuchsia group-hover:text-fuchsia-darker"><%= application.address %></h2>
        <%# TODO: Make it the right width at different numbers %>
        <% if application.visible_comments_count.positive? %>
          <div class="pb-1 text-lg font-bold text-lavender">
            <%= render Tailwind::SpeechBubbleComponent.new(size: "lg", alignment: :left) do %>
              <%= application.visible_comments_count %>
            <% end %>
            <%= application.visible_comments_count == 1 ? "comment" : "comments" %>
          </div>
        <% end %>
      </div>
      <p class="max-w-xl text-2xl text-navy">
        <%# Local variable highlights is optional. Only use it if it is there %>
        <% if local_assigns.key? :highlights %>
          <%= local_assigns[:highlights][:description].html_safe %><%# erblint:disable Rubocop %>
        <% else %>
          <%= application.description %>
        <% end %>
      </p>
      <p class="text-lg text-warm-grey">
        <% if application.respond_to? :distance %>
          Found <%= time_ago_in_words(application.first_date_scraped) %> ago,
          <%= km_in_words(application.distance.to_f) %> away
        <% else %>
          Found <%= time_ago_in_words(application.first_date_scraped) %> ago
        <% end %>
      </p>
    </div>
    <%# TODO: Extract out icon from here and alerts/_alert.html.erb %>
    <svg class="shrink-0 stroke-light-grey2 group-hover:stroke-navy" width="29" height="56" viewBox="0 0 29 56" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M1 1L27.2929 27.2929C27.6834 27.6834 27.6834 28.3166 27.2929 28.7071L1 55" stroke-width="2" stroke-linecap="round" />
    </svg>
  </article>
<% end %>
