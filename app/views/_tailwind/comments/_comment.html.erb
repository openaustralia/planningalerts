<%# TODO: Add real content %>
<%# TODO: Handle hidden comments %>
<%# TODO: Add ability to link directly to this comment %>
<article class="flex gap-6">
  <div class="text-navy text-7xl">‚Äù</div>
  <div>
    <div class="prose prose-2xl">
      <% if comment.visible? %>
        <%= comment_as_html(comment.text) %>
      <% else %>
        <em>This comment was hidden by site administrators</em>
      <% end %>
    </div>

    <% if comment.visible? %>
      <%# TODO: Smaller line height? %>
      <div class="mt-2 text-xl font-bold text-navy">
        <%= comment.name %>
      </div>
    <% end %>

    <div class="<%= class_names("text-xl", "text-navy", "mt-6" => !comment.visible?) %>">
      <%= time_tag comment.confirmed_at do %>
        <%= time_ago_in_words(comment.confirmed_at).capitalize %> ago
      <% end %>
    </div>

    <% if comment.visible? %>
      <%# TODO: Add disclosure icon %>
      <%# TODO: Make it work %>
      <%# TODO: Progressive enhancement? %>
      <%# TODO: Make this show the correct thing %>
      <div class="text-xl font-bold text-fuchsia">Delivered to the planning authority</div>
      <div class="mt-4">
        <%# TODO: Link to correct place %>
        <%= link_to "Report this comment", "#", class: "text-fuchsia text-xl hover:underline" %>
      </div>
    <% end %>
  </div>
</article>

<%
=begin
%>

<figure class="comment-item panel" id="comment<%= comment.id %>">
  <%= render "comments/location_heading", comment: comment if with_address %>
  <div class="panel-body">
    <figcaption class="comment-meta comment-heading">
      <%= render "comments/meta_sentence", comment: %>
    </figcaption>
    <blockquote class="comment-text">
      <% if comment.visible? %>
        <%= comment_as_html(comment.text) %>
      <% else %>
        <em>Hidden by site administrators</em>
      <% end %>
    </blockquote>
    <% if comment.visible? %>
      <footer>
        <p class="comment-meta">
          <% if comment.last_delivered_successfully.nil? %>
            sent to the planning authority
          <% else %>
            <%= link_to comment.last_delivered_successfully ? "delivered to the planning authority" : "there was a problem delivering this to the planning authority", %>
              { anchor: "delivery-info-#{comment.id}" }, class: "hideable", data: { target: "#delivery-info-#{comment.id}" }
            <% end %>
          <% end %>
        </p>
        <div class="comment-actions">
          <%= render "comments/actions", comment: %>
        </div>
        <p class="comment-meta hideable-target" id="delivery-info-<%= comment.id %>">
          <% if comment.last_delivered_successfully.nil? %>
            <%# Don't display any extra message if the comment has been sent but not yet delivered %>
            <%# Do we want to stick with this? %>
          <% elsif comment.last_delivered_successfully %>
            This comment was successfully delivered to the
            email server of
            <%= comment.application.comment_authority_with_fallback %>
            at
            <%= comment.last_delivered_at %>
          <% else %>
            The comment was hard bounced by the email server of
            <%= comment.application.comment_authority_with_fallback %>
            at
            <%= comment.last_delivered_at %>
            Please follow up by
            <%= link_to "contacting us", documentation_contact_path %>
            so that we can try to help resolve this issue
          <% end %>
        </p>
      </footer>
    <% end %>
  </div>
</figure>

<%
=end
%>
