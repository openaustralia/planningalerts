-# TODO: Move to head to block page until it loads
-# TODO: Deal with no JavaScript
%script{src: "https://checkout.stripe.com/checkout.js"}

%input{type: 'hidden', name: 'stripeEmail', value: email}
%input{type: 'hidden', name: 'stripeToken', value: ""}
%input{type: 'hidden', name: 'stripeMonthly', value: "monthly"}
-# TODO: Set amount to what we want
%button{type: 'submit', class: "button-action", disabled: true, id: "button-pro-signup", data: {key: ENV["STRIPE_PUBLISHABLE_KEY"], amount: price_in_cents(price), email: email, monthly: true}}
  Donate each month
%p.no-js-message
  Our donation form requires javascript from our secure payment processor stripe.com.
  If you’re seeing this and can't adjust any settings that might be blocking that,
  please email us at #{ mail_to "contact@planningalerts.org.au" }, we’re keen to help.
