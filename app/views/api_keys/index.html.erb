<% content_for :page_title, "Your API keys" %>

<%= render HeadingComponent.new(tag: :h2).with_content(yield(:page_title)) %>

<div class="pt-10 text-xl pb-14 text-navy">
  <p>
    Planning application data is available programmatically.
  </p>
  <p class="pt-4">
    <%# TODO: Not sure about the use of NGOs here - acronyms not good without explanation but also why not charities or not-for-profits instead? %>
    Planning Alerts Application Programming Interface (API) serves community groups, businesses, NGOs, and civic-minded individuals
    by providing access to trusted planning and development application data sourced from planning authorities around Australia.
  </p>
</div>

<div class="divide-y divide-light-grey">
  <%# TODO: Only display this section if we have active keys? %>
  <section class="pt-10 pb-14">
    <%= render HeadingComponent.new(tag: :h3, extra_classes: "mb-4").with_content("Active keys") %>

    <%# TODO: How should this look if there is more than one active key? %>
    <%# TODO: Add a sensible sort order %>
    <% if @api_keys.select(&:active?).empty? %>
      <%# TODO: Instead this should allow someone to get a key %>
      <p class="text-xl text-navy">No active keys</p>
    <% else %>
      <%= render @api_keys.select(&:active?) %>
    <% end %>
    <p class="text-xl text-navy">
      <%# TODO: Link to actual place %>
      Check out the <%= pa_link_to "API Developer Documentation", api_howto_path %>
    </p>

    <p class="text-xl text-navy">
      <%# TODO: Link to actual place %>
      Remind yourself of our <%= pa_link_to "API code of conduct", api_howto_path(anchor: "be_nice") %>
    </p>
  </section>

  <%# TODO: Only display this section if we have inactive keys? %>
  <section class="pt-10 text-xl pb-14 text-navy">
    <%= render HeadingComponent.new(tag: :h3, extra_classes: "mb-4").with_content("Inactive keys") %>

    <% if @api_keys.reject(&:active?).empty? %>
      <p>No inactive keys</p>
    <% else %>
      <%= render @api_keys.reject(&:active?) %>
    <% end %>
  </section>

  <section class="pt-16 text-xl text-navy">
    <%# TODO: Add a real link here %>
    <%# TODO: Under what circumstances do we say "for continued access"? %>
<%
=begin
%>
    <p class="pb-4">
      For continued access explore our ongoing plans <%= pa_link_to "here", "#" %>
    </p>
<%
=end
%>
    <%= image_tag "illustration/dog.svg", alt: "" %>
</section>
</div>
