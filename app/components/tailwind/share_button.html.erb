<%# TODO: This button needs a hover state %>
<%# TODO: Use web share API (https://w3c.github.io/web-share/) to make this even more betterer on mobile %>
<%# This is the only place that this button style is used. So, we'll just hardcode it for the time being  %>
<%# TODO: Stop content reflow while javascript starts %>
<%# TODO: Stop content shifting when button is clicked %>
<%# TODO: Alignment of text and icons is not consistent when clicking button %>
<div x-data="{ copied: false }">
  <button class="inline-block px-10 py-3 text-2xl font-semibold bg-white border-2 sm:py-4 text-green"
          x-show="!copied"
          x-on:click="
            navigator.clipboard.writeText('<%= @url %>');
            copied = true;
            setTimeout(() => { copied = false }, 2000)">
    <div class="flex items-baseline justify-center gap-4">
      <div>
        <%= render Tailwind::Icon.new(name: :share) %>
      </div>
      <div>
        <%= content %>
      </div>
    </div>
  </button>
  <button class="inline-block px-10 py-3 text-2xl font-semibold border-2 border-light-grey2 sm:py-4 text-navy bg-light-grey2"
          x-show="copied">
    <div class="flex items-center gap-4">
      <%= render Tailwind::Icon.new(name: :tick) %>
      Link copied
    </div>
  </button>
</div>
